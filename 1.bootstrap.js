(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(2);Object(o.j)(r);const c=document.getElementById("screen").getContext("2d");c.imageSmoothingEnabled=!1;let i=o.a.new_web();for(let[e,t]of[["keydown",!0],["keyup",!1]])document.addEventListener(e,e=>{console.log(e.code);let n=-1;"Digit1"==e.code?n=0:"Digit2"==e.code?n=1:"Digit3"==e.code?n=2:"Digit4"==e.code?n=3:"ArrowLeft"==e.code?n=4:"ArrowRight"==e.code?n=5:"ArrowUp"==e.code?n=6:"ArrowDown"==e.code&&(n=7),n>=0&&(t?i.press_key(n):i.release_key(n),console.log(n))});async function u(e){const t=e.tick_for_frame();console.log("elapsed for: %d cycles",t);const n=e.get_web_screen(),r=new Uint8ClampedArray(92160);let o;for(let e=0;4*e<r.length;e++){switch(n[e]){case 0:o=[255,255,255];break;case 1:o=[200,200,200];break;case 2:o=[100,100,100];break;case 3:o=[0,0,0];break;default:o=[255,0,0]}r[4*e+0]=o[0],r[4*e+1]=o[1],r[4*e+2]=o[2],r[4*e+3]=255}const i=new ImageData(r,160,144);c.putImageData(i,0,0)}!async function(){for(i.load_zelda();;)await u(i),await new Promise(e=>setTimeout(e,0))}()},function(e,t,n){"use strict";(function(e){let r;function o(e){r=e}n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return k})),n.d(t,"k",(function(){return A})),n.d(t,"d",(function(){return D})),n.d(t,"m",(function(){return x})),n.d(t,"c",(function(){return j})),n.d(t,"g",(function(){return v})),n.d(t,"i",(function(){return E})),n.d(t,"e",(function(){return I})),n.d(t,"h",(function(){return O})),n.d(t,"n",(function(){return T})),n.d(t,"l",(function(){return P}));const c=new Array(128).fill(void 0);function i(e){return c[e]}c.push(void 0,null,!0,!1);let u=c.length;function a(e){const t=i(e);return function(e){e<132||(c[e]=u,u=e)}(e),t}let f=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});f.decode();let s=null;function l(){return null!==s&&0!==s.byteLength||(s=new Uint8Array(r.memory.buffer)),s}function d(e,t){return f.decode(l().subarray(e,e+t))}function _(e){u===c.length&&c.push(c.length+1);const t=u;return u=c[t],c[t]=e,t}let w=0;let b=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const g="function"==typeof b.encodeInto?function(e,t){return b.encodeInto(e,t)}:function(e,t){const n=b.encode(e);return t.set(n),{read:e.length,written:n.length}};let y=null;function p(){return null!==y&&0!==y.byteLength||(y=new Int32Array(r.memory.buffer)),y}class h{static __wrap(e){const t=Object.create(h.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_gameboystate_free(e)}static new_web(){const e=r.gameboystate_new_web();return h.__wrap(e)}load_zelda(){r.gameboystate_load_zelda(this.ptr)}get_web_screen(){return a(r.gameboystate_get_web_screen(this.ptr))}tick_for_frame(){const e=r.gameboystate_tick_for_frame(this.ptr);return BigInt.asUintN(64,e)}press_key(e){r.gameboystate_press_key(this.ptr,e)}release_key(e){r.gameboystate_release_key(this.ptr,e)}}function m(e,t){alert(d(e,t))}function k(){return _(new Error)}function A(e,t){const n=function(e,t,n){if(void 0===n){const n=b.encode(e),r=t(n.length);return l().subarray(r,r+n.length).set(n),w=n.length,r}let r=e.length,o=t(r);const c=l();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;c[o+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),o=n(o,r,r=i+3*e.length);const t=l().subarray(o+i,o+r);i+=g(e,t).written}return w=i,o}(i(t).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),o=w;p()[e/4+1]=o,p()[e/4+0]=n}function D(e,t){try{console.error(d(e,t))}finally{r.__wbindgen_free(e,t)}}function x(e){a(e)}function j(e){return _(i(e).buffer)}function v(e,t,n){return _(new Uint8Array(i(e),t>>>0,n>>>0))}function E(e,t,n){i(e).set(i(t),n>>>0)}function I(e){return i(e).length}function O(e){return _(new Uint8Array(e>>>0))}function T(e,t){throw new Error(d(e,t))}function P(){return _(r.memory)}}).call(this,n(3)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n.w[e.i];for(var o in n.r(t),r)"__webpack_init__"!=o&&(t[o]=r[o]);n(2);r.__webpack_init__()}]]);